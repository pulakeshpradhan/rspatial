[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/pulakeshpradhan/geopython/blob/main/Open_Meteo_WEB_API.ipynb)

```python
import requests
url = "https://api.open-meteo.com/v1/forecast"
params = {
    "latitude": 52.52,
    "longitude" : 13.41,
    "hourly": "temperature_2m,precipitation"
}
response = requests.get(url, params=params)
data = response.json()

print (data)
```

    {'latitude': 52.52, 'longitude': 13.419998, 'generationtime_ms': 0.08857250213623047, 'utc_offset_seconds': 0, 'timezone': 'GMT', 'timezone_abbreviation': 'GMT', 'elevation': 38.0, 'hourly_units': {'time': 'iso8601', 'temperature_2m': '°C', 'precipitation': 'mm'}, 'hourly': {'time': ['2025-07-17T00:00', '2025-07-17T01:00', '2025-07-17T02:00', '2025-07-17T03:00', '2025-07-17T04:00', '2025-07-17T05:00', '2025-07-17T06:00', '2025-07-17T07:00', '2025-07-17T08:00', '2025-07-17T09:00', '2025-07-17T10:00', '2025-07-17T11:00', '2025-07-17T12:00', '2025-07-17T13:00', '2025-07-17T14:00', '2025-07-17T15:00', '2025-07-17T16:00', '2025-07-17T17:00', '2025-07-17T18:00', '2025-07-17T19:00', '2025-07-17T20:00', '2025-07-17T21:00', '2025-07-17T22:00', '2025-07-17T23:00', '2025-07-18T00:00', '2025-07-18T01:00', '2025-07-18T02:00', '2025-07-18T03:00', '2025-07-18T04:00', '2025-07-18T05:00', '2025-07-18T06:00', '2025-07-18T07:00', '2025-07-18T08:00', '2025-07-18T09:00', '2025-07-18T10:00', '2025-07-18T11:00', '2025-07-18T12:00', '2025-07-18T13:00', '2025-07-18T14:00', '2025-07-18T15:00', '2025-07-18T16:00', '2025-07-18T17:00', '2025-07-18T18:00', '2025-07-18T19:00', '2025-07-18T20:00', '2025-07-18T21:00', '2025-07-18T22:00', '2025-07-18T23:00', '2025-07-19T00:00', '2025-07-19T01:00', '2025-07-19T02:00', '2025-07-19T03:00', '2025-07-19T04:00', '2025-07-19T05:00', '2025-07-19T06:00', '2025-07-19T07:00', '2025-07-19T08:00', '2025-07-19T09:00', '2025-07-19T10:00', '2025-07-19T11:00', '2025-07-19T12:00', '2025-07-19T13:00', '2025-07-19T14:00', '2025-07-19T15:00', '2025-07-19T16:00', '2025-07-19T17:00', '2025-07-19T18:00', '2025-07-19T19:00', '2025-07-19T20:00', '2025-07-19T21:00', '2025-07-19T22:00', '2025-07-19T23:00', '2025-07-20T00:00', '2025-07-20T01:00', '2025-07-20T02:00', '2025-07-20T03:00', '2025-07-20T04:00', '2025-07-20T05:00', '2025-07-20T06:00', '2025-07-20T07:00', '2025-07-20T08:00', '2025-07-20T09:00', '2025-07-20T10:00', '2025-07-20T11:00', '2025-07-20T12:00', '2025-07-20T13:00', '2025-07-20T14:00', '2025-07-20T15:00', '2025-07-20T16:00', '2025-07-20T17:00', '2025-07-20T18:00', '2025-07-20T19:00', '2025-07-20T20:00', '2025-07-20T21:00', '2025-07-20T22:00', '2025-07-20T23:00', '2025-07-21T00:00', '2025-07-21T01:00', '2025-07-21T02:00', '2025-07-21T03:00', '2025-07-21T04:00', '2025-07-21T05:00', '2025-07-21T06:00', '2025-07-21T07:00', '2025-07-21T08:00', '2025-07-21T09:00', '2025-07-21T10:00', '2025-07-21T11:00', '2025-07-21T12:00', '2025-07-21T13:00', '2025-07-21T14:00', '2025-07-21T15:00', '2025-07-21T16:00', '2025-07-21T17:00', '2025-07-21T18:00', '2025-07-21T19:00', '2025-07-21T20:00', '2025-07-21T21:00', '2025-07-21T22:00', '2025-07-21T23:00', '2025-07-22T00:00', '2025-07-22T01:00', '2025-07-22T02:00', '2025-07-22T03:00', '2025-07-22T04:00', '2025-07-22T05:00', '2025-07-22T06:00', '2025-07-22T07:00', '2025-07-22T08:00', '2025-07-22T09:00', '2025-07-22T10:00', '2025-07-22T11:00', '2025-07-22T12:00', '2025-07-22T13:00', '2025-07-22T14:00', '2025-07-22T15:00', '2025-07-22T16:00', '2025-07-22T17:00', '2025-07-22T18:00', '2025-07-22T19:00', '2025-07-22T20:00', '2025-07-22T21:00', '2025-07-22T22:00', '2025-07-22T23:00', '2025-07-23T00:00', '2025-07-23T01:00', '2025-07-23T02:00', '2025-07-23T03:00', '2025-07-23T04:00', '2025-07-23T05:00', '2025-07-23T06:00', '2025-07-23T07:00', '2025-07-23T08:00', '2025-07-23T09:00', '2025-07-23T10:00', '2025-07-23T11:00', '2025-07-23T12:00', '2025-07-23T13:00', '2025-07-23T14:00', '2025-07-23T15:00', '2025-07-23T16:00', '2025-07-23T17:00', '2025-07-23T18:00', '2025-07-23T19:00', '2025-07-23T20:00', '2025-07-23T21:00', '2025-07-23T22:00', '2025-07-23T23:00'], 'temperature_2m': [15.3, 14.7, 14.6, 14.0, 14.0, 14.3, 15.0, 15.8, 17.2, 18.2, 18.2, 17.5, 17.1, 16.7, 17.0, 17.1, 17.2, 17.7, 18.1, 18.0, 18.0, 17.8, 17.7, 17.4, 17.2, 16.4, 15.9, 15.8, 15.5, 15.8, 16.8, 17.8, 18.4, 19.5, 20.7, 21.6, 22.5, 22.4, 21.8, 20.4, 21.4, 21.7, 21.9, 21.6, 20.9, 20.3, 19.7, 18.9, 18.7, 18.5, 17.7, 16.9, 16.8, 17.7, 18.8, 20.6, 22.2, 23.4, 25.6, 26.4, 27.0, 27.4, 27.6, 27.9, 28.0, 27.7, 26.5, 25.2, 23.4, 22.2, 21.4, 20.6, 20.0, 19.4, 18.8, 18.5, 18.3, 19.3, 21.1, 23.1, 25.0, 26.3, 27.5, 27.8, 28.2, 28.3, 28.1, 27.9, 27.6, 27.3, 26.7, 25.9, 24.8, 23.8, 23.0, 22.2, 21.6, 21.0, 20.5, 20.3, 20.8, 21.6, 22.1, 21.9, 21.4, 20.9, 20.5, 20.2, 20.0, 20.1, 20.4, 20.7, 21.0, 21.2, 21.2, 20.6, 19.6, 18.9, 18.6, 18.4, 18.1, 17.4, 16.5, 16.1, 16.4, 17.2, 17.8, 19.6, 20.2, 20.7, 20.9, 20.9, 20.9, 21.0, 21.1, 21.2, 21.3, 21.4, 21.2, 20.4, 19.3, 18.3, 17.8, 17.4, 17.2, 17.0, 17.0, 17.0, 17.1, 17.2, 17.5, 18.1, 18.8, 19.7, 20.8, 22.1, 22.9, 23.1, 22.8, 22.1, 21.0, 19.5, 18.3, 17.8, 17.5, 17.2, 16.9, 16.6], 'precipitation': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.1, 3.3, 4.2, 0.9, 0.2, 0.8, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 8.6, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.8, 0.8, 0.8, 3.9, 3.9, 3.9, 0.9, 0.9, 0.9, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4, 0.4, 0.4, 0.6, 0.6, 0.6, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.9, 0.9, 0.9, 0.5, 0.5, 0.5, 0.0, 0.0]}}
    


```python
import pandas as pd
df = pd.DataFrame(data)
print(df)
```

                    latitude  longitude  generationtime_ms  utc_offset_seconds  \
    time               52.52  13.419998           0.088573                   0   
    temperature_2m     52.52  13.419998           0.088573                   0   
    precipitation      52.52  13.419998           0.088573                   0   
    
                   timezone timezone_abbreviation  elevation hourly_units  \
    time                GMT                   GMT       38.0      iso8601   
    temperature_2m      GMT                   GMT       38.0           °C   
    precipitation       GMT                   GMT       38.0           mm   
    
                                                               hourly  
    time            [2025-07-17T00:00, 2025-07-17T01:00, 2025-07-1...  
    temperature_2m  [15.3, 14.7, 14.6, 14.0, 14.0, 14.3, 15.0, 15....  
    precipitation   [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...  
    


```python
df = df[['hourly']]
print (df)
```

                                                               hourly
    time            [2025-07-17T00:00, 2025-07-17T01:00, 2025-07-1...
    temperature_2m  [15.3, 14.7, 14.6, 14.0, 14.0, 14.3, 15.0, 15....
    precipitation   [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...
    


```python
# Convert to standing (long) format DataFrame
df = pd.DataFrame({
    'time': df['hourly']['time'],
    'temperature_2m': df['hourly']['temperature_2m'],
    'precipitation': df['hourly']['precipitation']
})

# Preview
print(df.head())
```

                   time  temperature_2m  precipitation
    0  2025-07-17T00:00            15.3            0.0
    1  2025-07-17T01:00            14.7            0.0
    2  2025-07-17T02:00            14.6            0.0
    3  2025-07-17T03:00            14.0            0.0
    4  2025-07-17T04:00            14.0            0.0
    


```python
# # Convert time column to datetime format
df['time'] = pd.to_datetime(df['time'])
print (df)
```

                       time  temperature_2m  precipitation
    0   2025-07-17 00:00:00            15.3            0.0
    1   2025-07-17 01:00:00            14.7            0.0
    2   2025-07-17 02:00:00            14.6            0.0
    3   2025-07-17 03:00:00            14.0            0.0
    4   2025-07-17 04:00:00            14.0            0.0
    ..                  ...             ...            ...
    163 2025-07-23 19:00:00            17.8            0.5
    164 2025-07-23 20:00:00            17.5            0.5
    165 2025-07-23 21:00:00            17.2            0.5
    166 2025-07-23 22:00:00            16.9            0.0
    167 2025-07-23 23:00:00            16.6            0.0
    
    [168 rows x 3 columns]
    


```python
# Plotting
import matplotlib.pyplot as plt
plt.figure(figsize=(10, 5))
plt.plot(df['time'], df['temperature_2m'], marker='o', label='Temperature (°C)')
plt.plot(df['time'], df['precipitation'], marker='s', label='Precipitation (mm)')

plt.xlabel('Time')
plt.ylabel('Value')
plt.title('Hourly Temperature and Precipitation')
plt.xticks(rotation=45)
plt.legend()
plt.tight_layout()
plt.grid(True)
plt.show()
```


    
![png](Open_Meteo_WEB_API_files/Open_Meteo_WEB_API_5_0.png)
    



```python
# Plot with secondary y-axis
fig, ax1 = plt.subplots(figsize=(10, 5))

# Primary axis: Temperature line
ax1.plot(df['time'], df['temperature_2m'], color='tab:red', marker='o', label='Temperature (°C)')
ax1.set_xlabel('Time')
ax1.set_ylabel('Temperature (°C)', color='tab:red')
ax1.tick_params(axis='y', labelcolor='tab:red')

# Secondary axis: Precipitation bars
ax2 = ax1.twinx()
ax2.bar(df['time'], df['precipitation'], width=0.03, color='tab:blue', alpha=0.6, label='Precipitation (mm)')
ax2.set_ylabel('Precipitation (mm)', color='tab:blue')
ax2.tick_params(axis='y', labelcolor='tab:blue')

# Formatting
fig.autofmt_xdate()
plt.title('Hourly Temperature and Precipitation')
fig.tight_layout()
plt.grid(True)
plt.show()
```


    
![png](Open_Meteo_WEB_API_files/Open_Meteo_WEB_API_6_0.png)
    



```python

```


```python

```


```python

```
